<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŸºäºGithub Actionæ„å»ºFlutteråº”ç”¨ | MetaverseK Blog</title>
    <meta name="description" content="github actions demo for flutter">
    
    <meta name="keywords" content="flutter, github actions">
    <link rel="preload" href="/assets/css/0.styles.afb273fd.css" as="style"><link rel="preload" href="/assets/js/app.bff1ae47.js" as="script"><link rel="preload" href="/assets/js/8.2552ec62.js" as="script"><link rel="preload" href="/assets/js/3.fdc44ecf.js" as="script"><link rel="preload" href="/assets/js/16.0fe6bd49.js" as="script"><link rel="preload" href="/assets/js/19.b0634fec.js" as="script"><link rel="preload" href="/assets/js/13.ff535b01.js" as="script"><link rel="preload" href="/assets/js/28.88b42902.js" as="script"><link rel="preload" href="/assets/js/5.1f9b2f0f.js" as="script"><link rel="prefetch" href="/assets/js/10.9b0caa1e.js"><link rel="prefetch" href="/assets/js/11.05c0f8df.js"><link rel="prefetch" href="/assets/js/12.ef4b26b9.js"><link rel="prefetch" href="/assets/js/14.fed400be.js"><link rel="prefetch" href="/assets/js/15.af0149f6.js"><link rel="prefetch" href="/assets/js/17.facb2d84.js"><link rel="prefetch" href="/assets/js/18.7027da36.js"><link rel="prefetch" href="/assets/js/20.8f9eade5.js"><link rel="prefetch" href="/assets/js/21.f8616e1b.js"><link rel="prefetch" href="/assets/js/22.62a4ef07.js"><link rel="prefetch" href="/assets/js/23.740b98a9.js"><link rel="prefetch" href="/assets/js/24.4ce3a297.js"><link rel="prefetch" href="/assets/js/25.13f603ae.js"><link rel="prefetch" href="/assets/js/26.6aca1c89.js"><link rel="prefetch" href="/assets/js/27.10ee73d0.js"><link rel="prefetch" href="/assets/js/29.c72a1fbd.js"><link rel="prefetch" href="/assets/js/30.660cb13f.js"><link rel="prefetch" href="/assets/js/4.489587f2.js"><link rel="prefetch" href="/assets/js/6.20e8a23c.js"><link rel="prefetch" href="/assets/js/7.4e79809a.js"><link rel="prefetch" href="/assets/js/9.51d87dfa.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.4eefb3a3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.afb273fd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">
        MetaverseK Blog
      </span></a> <nav class="nav-links can-hide"><ul class="nav-ul"><li class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></li><li class="nav-item"><a href="/tag/" class="nav-link">æ ‡ç­¾</a></li><li class="nav-item"><a href="/about/" class="nav-link">å…³äºæˆ‘</a></li><li class="nav-item"><a href="https://github.com/handoing" target="_blank" rel="noopener noreferrer" class="nav-link">GITHUB</a></li></ul></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <!----> <div class="layout-container"><div class="main"><div class="layout-inner"><div class="card"><div class="content-header"><h1 class="page-title">åŸºäºGithub Actionæ„å»ºFlutteråº”ç”¨</h1> <span class="page-timestamp">2019-10-12</span></div> <div class="content__default"><h2 id="_1-github-actionsæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#_1-github-actionsæ˜¯ä»€ä¹ˆï¼Ÿ" aria-hidden="true" class="header-anchor">#</a> 1.GitHub Actionsæ˜¯ä»€ä¹ˆï¼Ÿ</h2> <p>GitHub Actionsæ˜¯Githubçš„æŒç»­é›†æˆæœåŠ¡ï¼Œç±»ä¼¼äºJenkinsã€Travis CIä¹‹ç±»çš„å·¥å…·ï¼Œå¸®åŠ©å¼€å‘è€…ä»Githubæ„å»ºã€æµ‹è¯•å’Œéƒ¨ç½²ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Githubçš„äº‹ä»¶æœºåˆ¶ï¼ˆpushç­‰ï¼‰å¯åŠ¨workflowã€‚</p> <p>actionsç±»ä¼¼äºè„šæœ¬æ–‡ä»¶ï¼Œå¸®åŠ©å¼€å‘è€…æ„å»ºworkflowï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡Githubçš„<a href="https://github.com/marketplace?type=actions" target="_blank" rel="noopener noreferrer">Marketplace<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>æŸ¥æ‰¾ä»–äººè´¡çŒ®çš„actionsï¼Œä¹Ÿå¯ä»¥æ ¹æ®è‡ªå·±é¡¹ç›®è‡ªå®šä¹‰actionsã€‚</p> <p>actionsä¸ä»…å¯ä»¥ç”¨äºæ„å»ºå’Œéƒ¨ç½²ï¼Œè¿˜å¯ä»¥åšå…¶ä»–äº‹æƒ…ï¼Œå› ä¸ºå®ƒå°±æ˜¯è·‘åœ¨dockerå®¹å™¨ä¸­çš„è„šæœ¬ï¼Œæƒ³åšä»€ä¹ˆå–å†³äºä½ è‡ªå·±ã€‚</p> <p>ç›®å‰GitHub Actionsè¿˜æ²¡æœ‰å…¨é¢å¼€æ”¾ï¼Œéœ€è¦æˆ‘ä»¬å»<a href="https://github.com/features/actions/signup" target="_blank" rel="noopener noreferrer">ç”³è¯·<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œç­‰å¾…å®˜æ–¹å®¡æ ¸é€šè¿‡ï¼Œå¤§çº¦éœ€è¦å‡ å¤©çš„æ—¶é—´ï¼Œå®¡æ ¸é€šè¿‡ä¼šæ”¶åˆ°é€šçŸ¥ï¼ŒåŒæ—¶ä½ ä¼šçœ‹åˆ°é¡¹ç›®é‡Œå¤šäº†ä¸€ä¸ªActionsçš„tabã€‚</p> <p><img src="/github_action_flutter_demo/i1.png" alt="Actions"></p> <h2 id="_2-é€šè¿‡github-actionsæ„å»ºflutterçš„androidåº”ç”¨"><a href="#_2-é€šè¿‡github-actionsæ„å»ºflutterçš„androidåº”ç”¨" aria-hidden="true" class="header-anchor">#</a> 2.é€šè¿‡GitHub Actionsæ„å»ºFlutterçš„Androidåº”ç”¨</h2> <p>é¦–å…ˆåˆ›å»ºä¸€ä¸ªflutteråº”ç”¨ï¼Œæˆ‘æ‹¿Android Studioé»˜è®¤åˆ›å»ºçš„flutteré¡¹ç›®ä¸ºä¾‹ï¼Œæäº¤åˆ°githubä»“åº“ï¼ˆ<a href="https://github.com/handoing/github_action_flutter_demo" target="_blank" rel="noopener noreferrer">https://github.com/handoing/github_action_flutter_demo<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼‰</p> <p>è¿›å…¥Actionså¦‚å›¾ï¼š</p> <p><img src="/github_action_flutter_demo/i2.png" alt="Actions"></p> <p>ç›®å‰æˆ‘ä»¬è¿˜æ²¡æœ‰åˆ›å»ºworkflowï¼Œå¯ä»¥ç›´æ¥åœ¨é¡¹ç›®æœ¬åœ°åˆ›å»ºä¸€ä¸ª<code>.github/workflows</code>ç›®å½•å¹¶åˆ›å»ºbuild.ymalæ–‡ä»¶ï¼ŒæŠŠæ–‡ä»¶æäº¤åˆ°githubä»“åº“ï¼Œæˆ–ç›´æ¥é€šè¿‡githubåˆ›å»ºä¸€ä¸ªworkflowï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥é€šè¿‡githubåˆ›å»ºworkflowï¼Œç‚¹å‡»Set up a workflow yourselfï¼Œå¹¶ç¼–å†™yamlæ–‡ä»¶ã€‚
å…³äºå¦‚ä½•ç¼–å†™yamlè¿™é‡Œä¸åšä»‹ç»ï¼Œå¤§å®¶å¯ä»¥ç›´æ¥çœ‹<a href="https://help.github.com/en/articles/workflow-syntax-for-github-actions" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚</p> <p>å¦‚å›¾ï¼š</p> <p><img src="/github_action_flutter_demo/i3.png" alt="workflow"></p> <p>ä¿®æ”¹build.yaml</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> CI

<span class="token key atrule">on</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>push<span class="token punctuation">]</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">test</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> Test on $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.os <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.os <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token key atrule">strategy</span><span class="token punctuation">:</span>
      <span class="token key atrule">matrix</span><span class="token punctuation">:</span>
        <span class="token key atrule">os</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>ubuntu<span class="token punctuation">-</span>latest<span class="token punctuation">]</span>
        <span class="token comment"># os: [ubuntu-latest, windows-latest, macos-latest]</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v1
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>java@v1
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">java-version</span><span class="token punctuation">:</span> <span class="token string">'12.x'</span>
      <span class="token punctuation">-</span> <span class="token key atrule">uses</span><span class="token punctuation">:</span> subosito/flutter<span class="token punctuation">-</span>action@v1
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">flutter-version</span><span class="token punctuation">:</span> <span class="token string">'1.9.1+hotfix.4'</span>
          <span class="token key atrule">channel</span><span class="token punctuation">:</span> <span class="token string">'stable'</span>
      <span class="token punctuation">-</span> <span class="token key atrule">run</span><span class="token punctuation">:</span> flutter build apk
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> upload artifects
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/upload<span class="token punctuation">-</span>artifact@master
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">name</span><span class="token punctuation">:</span> flutter<span class="token punctuation">-</span>android<span class="token punctuation">-</span>demo
          <span class="token key atrule">path</span><span class="token punctuation">:</span> build/app/outputs/apk/release
</code></pre></div><p>è¿™é‡Œè§£é‡Šä¸‹build.yamlæ–‡ä»¶æ‰§è¡Œæ­¥éª¤ï¼š</p> <ul><li>æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºCIçš„workflow</li> <li>å½“pushä»£ç æ—¶ä¼šè§¦å‘jobs</li> <li>åˆ›å»ºä¸€ä¸ªtestçš„jobï¼Œè®¾ç½®äº†nameåŠruns-onï¼Œè¿™é‡Œç”¨åˆ°äº†matrixé‡Œå®šä¹‰çš„osï¼Œç›®å‰æˆ‘ä»¬åªä½¿ç”¨äº†ubuntuç³»ç»Ÿï¼Œæˆ‘ä»¬è¿˜å¯ä»¥æ·»åŠ å¤šä¸ªæ“ä½œç³»ç»Ÿ</li> <li>é€šè¿‡actions/checkoutæ‹‰å–æˆ‘ä»¬ä»£ç </li> <li>é€šè¿‡actions/setup-javaæ„å»ºjavaç¯å¢ƒ</li> <li>é€šè¿‡subosito/flutter-actionæ„å»ºflutterç¯å¢ƒ</li> <li>é€šè¿‡actions/upload-artifactæ‰“åŒ…æˆ‘ä»¬çš„æŒ‡å®šè·¯å¾„çš„æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°artifects</li></ul> <p>ç‚¹å‡»Start commitæäº¤commitï¼Œæ­¤æ—¶ä¼šè§¦å‘workflowæ„å»ºï¼Œæˆ‘ä»¬æ¥ç€ç‚¹å‡»é¡¹ç›®Actionsä¼šçœ‹åˆ°å¯¹åº”workflowæ­£åœ¨æ„å»ºï¼Œå¦‚å›¾ï¼š</p> <p><img src="/github_action_flutter_demo/i4.png" alt="workflow"></p> <p>ç‚¹å‡»CIå¯ä»¥æŸ¥çœ‹å¯¹åº”çš„æ„å»ºæ­¥éª¤åŠæ—¥å¿—ä¿¡æ¯ï¼Œå¦‚å›¾ï¼š</p> <p><img src="/github_action_flutter_demo/i5.png" alt="workflow"></p> <p>å½“workflowæ‰§è¡Œå®Œæ¯•åæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹å‡»å³ä¸Šè§’çš„Artifactsä¸‹è½½æˆ‘ä»¬ä¸Šä¼ çš„ç¼–è¯‘äº§ç‰©ï¼Œå¦‚å›¾ï¼š</p> <p><img src="/github_action_flutter_demo/i6.png" alt="workflow"></p> <h2 id="æ€»ç»“"><a href="#æ€»ç»“" aria-hidden="true" class="header-anchor">#</a> æ€»ç»“</h2> <p>Github Actionsé€‚ç”¨äºGithubä¸Šå¤§éƒ¨åˆ†å¼€æºé¡¹ç›®ï¼Œé¿å…äº†ä¾èµ–Travis CIæˆ–Circle CIç­‰ç¬¬ä¸‰æ–¹CI/CDå·¥å…·ï¼Œç»™å¼€å‘è€…æä¾›äº†ä¾¿åˆ©çš„workflowï¼Œä½†ç›®å‰Github Actionsè¿˜å¤„äºæµ‹è¯•é˜¶æ®µï¼ŒæœŸå¾…åç»­å¼€æ”¾ã€‚</p></div> <div class="content page-nav"><p class="inner"><span class="prev">â†
          <a href="/blog/growth_topic.html" class="prev">ğŸ“è¿™æ˜¯ä¸€ä¸ªå…³äºæˆé•¿çš„è¯é¢˜</a></span> <!----></p></div></div> <!----></div> <div class="tool-group"><!----></div></div></div> <footer class="footer"><span>é’¢é“èˆ¬çš„å›å¿†å¯¹ä½ è¯´å¥çˆ±ä½ ä¸‰åƒé</span></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bff1ae47.js" defer></script><script src="/assets/js/8.2552ec62.js" defer></script><script src="/assets/js/3.fdc44ecf.js" defer></script><script src="/assets/js/16.0fe6bd49.js" defer></script><script src="/assets/js/19.b0634fec.js" defer></script><script src="/assets/js/13.ff535b01.js" defer></script><script src="/assets/js/28.88b42902.js" defer></script><script src="/assets/js/5.1f9b2f0f.js" defer></script>
  </body>
</html>
